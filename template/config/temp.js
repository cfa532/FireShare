function f(){var e,t=[],r=[];function n(){return e}function a(e,t){var r="http://"+e.ips[t]+"/entry?";return""!=e.aid&&(r+="aid="+e.aid+"&"),""!=e.mid&&(r+="mid="+e.mid+"&"),""!=e.ver&&(r+="ver="+e.ver+"&"),r+"rand="+Math.random()}window.getParam=n,window.setParam=function n(o){e=o,function e(){var n=window.getParam();for(i=0;i<n.ips.length;i++){var o=n.ips[i].split(":");if(o.length<3){var s=o[0].split(".");if(10==s[0]||192==s[0]&&168==s[1]||172==s[0]&&s[!1])continue;r.push(i),t.push(a(n,i))}else{var s=n.ips[i].replace(/\[|\]/g,"").split(":");if(s.length<8)continue;r.push(i),t.push(a(n,i))}}}()},window.requestEntry=function n(){Promise.any(t.map((e,t)=>new Promise((n,a)=>{fetch(e,{CurNodeUrl:e,mode:"cors"}).then(o=>{o.ok||a("HTTP error status: "+e),n([o,r[t]])}).catch(e=>{a(e)})}))).then(t=>{e.CurNode=t[1],t[0].text().then(e=>{var t=document.getElementById("LeitherHtml");e.replace(/<html\s*\S*>([\s|\S]*)<\/html>/ig,function(){t.innerHTML=arguments[1]});for(var r=/<script[^>]*>([\s|\S]*?)<\/script>/igm;null!=(result=r.exec(e));){var n=document.createElement("script");n.textContent=result[1],document.getElementsByTagName("head")[0].appendChild(n)}}).catch(e=>{console.error(e)})}).catch(t=>{console.error(t),document.getElementById("LeitherHtml").innerHTML="<head><title>ErrInfo</title></head><body><p>No valid IP: "+e.ips+"</p></body>"})}}
